<div class="register-business-container">
  <h1>Register Business</h1>

  <form [formGroup]="registerForm" (ngSubmit)="submit()" class="business-form">
    <!-- Name -->
    <div class="form-group">
      <label for="name">Business Name</label>
      <input id="name" type="text" formControlName="Name" placeholder="Enter business name" autocomplete="off" />
      <div *ngIf="registerForm.get('Name')?.touched && registerForm.get('Name')?.invalid" class="error">
        <div *ngIf="registerForm.get('Name')?.hasError('required')">Business name is required.</div>
        <div *ngIf="registerForm.get('Name')?.hasError('minlength')">Business name must be at least 3 characters long.
        </div>
      </div>
    </div>

    <!-- Name -->
    <div class="form-group">
      <label for="password">Password</label>
      <input id="password" type="password" formControlName="Password" placeholder="Enter business Password" />
      <div *ngIf="registerForm.get('Password')?.touched && registerForm.get('Password')?.invalid" class="error">
        <div *ngIf="registerForm.get('Password')?.hasError('required')">Business Password is required.</div>
        <div *ngIf="registerForm.get('Password')?.hasError('minlength')">Business Password must be at least 3 characters
          long.</div>
      </div>
    </div>

    <!-- Description -->
    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="Description" formControlName="Description" placeholder="Describe your business"></textarea>
      <div *ngIf="registerForm.get('Description')?.touched && registerForm.get('Description')?.invalid" class="error">
        <div *ngIf="registerForm.get('Description')?.hasError('required')">Description is required.</div>
        <div *ngIf="registerForm.get('Description')?.hasError('maxlength')">Description cannot exceed 500 characters.
        </div>
      </div>
    </div>

    <!-- Location -->
    <div class="form-group">
      <label for="location">Location</label>
      <input id="location" #searchInput type="text" formControlName="Location" placeholder="Enter location" />
      <div *ngIf="registerForm.get('Location')?.touched && registerForm.get('Location')?.invalid" class="error">
        <div *ngIf="registerForm.get('Location')?.hasError('required')">Location is required.</div>
      </div>
      <google-map [center]="mapCenter" [zoom]="15" height="500px" width="100%">
        <map-marker [position]="mapCenter"></map-marker>
      </google-map>
    </div>

    <div class="form-group">
      <label for="category">Category:</label>
      <select class="form-control" (change)="onCategoryChange($event)">
        <option *ngFor="let category of categories" [value]="category.categoryID">{{category.categoryName}}</option>
      </select>
      <div *ngIf="registerForm.get('Category')?.touched && registerForm.get('Category')?.invalid" class="error">
        <div *ngIf="registerForm.get('Category')?.hasError('required')">Category is required.</div>
      </div>
    </div>

    <!-- SubCategory -->
    <div class="form-group">
      <label for="subCategory">SubCategory:</label>
      <select class="form-control" (change)="onSubCategoryChange($event)">
        <option *ngFor="let subcategory of subCategories" [value]="subcategory.subCategoryID">
          {{subcategory.subCategoryName}}</option>
      </select>
      <div *ngIf="registerForm.get('SubCategory')?.touched && registerForm.get('SubCategory')?.invalid" class="error">
        <div *ngIf="registerForm.get('SubCategory')?.hasError('required')">SubCategory is required.</div>
      </div>
    </div>

    <!-- Visiting Card -->
    <div class="form-group">
      <label for="visitingCard">Upload Visiting Card</label>
      <input id="visitingCard" type="file" (change)="onFileChange($event)" />
    </div>

    <!-- Submit Button -->
    <button type="submit" class="submit-btn" [disabled]="registerForm.invalid">Register Business</button>
  </form>
</div>